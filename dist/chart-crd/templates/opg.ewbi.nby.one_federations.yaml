---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.5
  name: federations.opg.ewbi.nby.one
spec:
  group: opg.ewbi.nby.one
  names:
    kind: Federation
    listKind: FederationList
    plural: federations
    singular: federation
  scope: Namespaced
  versions:
  - name: v1beta1
    schema:
      openAPIV3Schema:
        description: Federation is the Schema for the federations API.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: FederationSpec defines the desired state of Federation.
            properties:
              acceptedAvailabilityZones:
                description: |-
                  AcceptedAvailabilityZones, subset the GuestOP accepts of the  AvailabilityZones
                  the OP offered for this Federation
                items:
                  type: string
                type: array
              guestPartnerCredentials:
                description: Federation GuestPartner creds for the client to register
                  (temporary, to be replaced by e.g. keycloack)
                properties:
                  clientId:
                    description: ClientId, e.g. "50290107-5a90-4d77-a1b8-ec9d311ab2fd"
                    type: string
                  tokenUrl:
                    description: TokenUrl, e.g. http://ip:5555/cb
                    type: string
                required:
                - clientId
                type: object
              initialDate:
                description: |-
                  Initial Date and time, time zone info of the federation initiated by the Originating OP
                  e.g. "2025-01-10T09:50:32.571Z"
                format: date-time
                type: string
              offeredAvailabilityZones:
                description: |-
                  OfferedAvailabilityZones, list of AvailabilityZones the hostOP offers to the guestOP
                  as part of this Federation
                items:
                  type: string
                type: array
              originOP:
                properties:
                  countryCode:
                    description: CountryCode as in "JN"
                    type: string
                  fixedNetworkCodes:
                    description: FixedNetworkCodes, no examples were provided, for
                      now we just know they will be a list of strings
                    items:
                      type: string
                    type: array
                  mobileNetworkCodes:
                    description: MobileNetworkCodes, notice these aren't a list, but
                      its internal field `mnc` is
                    properties:
                      mcc:
                        description: MCC, e.g. "329"
                        type: string
                      mncs:
                        description: MNC, list of MNCs
                        items:
                          type: string
                        type: array
                    type: object
                type: object
              partner:
                properties:
                  callbackCredentials:
                    description: |-
                      CallbackCredentials Authentication credentials for callbacks.
                      Callbacks use the same security scheme, flows, and scopes as the forward path.
                    properties:
                      clientId:
                        description: ClientId, e.g. "50290107-5a90-4d77-a1b8-ec9d311ab2fd"
                        type: string
                      tokenUrl:
                        description: TokenUrl, e.g. http://ip:5555/cb
                        type: string
                    required:
                    - clientId
                    type: object
                  statusLink:
                    type: string
                required:
                - statusLink
                type: object
            type: object
          status:
            description: FederationStatus defines the observed state of Federation.
            properties:
              federationContextId:
                type: string
              offeredAvailabilityZones:
                description: |-
                  OfferedAvailabilityZones, GuestOP offered AvailabilityZones
                  for this Federation
                items:
                  properties:
                    geographyDetails:
                      description: |-
                        GeographyDetails Details about cities or state covered by the edge. Details about the type
                        of locality for eg rural, urban, industrial etc. This information is defined in human readable form.
                      type: string
                    geolocation:
                      description: Geolocation Latitude,Longitude as decimal fraction
                        up to 4 digit precision
                      type: string
                    zoneId:
                      description: ZoneId Human readable name of the zone.
                      type: string
                  required:
                  - geographyDetails
                  - geolocation
                  - zoneId
                  type: object
                type: array
              phase:
                type: string
              state:
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
